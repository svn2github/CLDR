$avalue=[^"]*;
$element=[a-zA-Z0-9]+;
'//ldml' > ;
'/localeDisplayNames/languages/' ($element) '[@type="' ($avalue) '"]' > 'names|' $1 '|' $2;
'/localeDisplayNames/scripts/' ($element) '[@type="' ($avalue) '"]' > 'names|' $1 '|' $2;
'/localeDisplayNames/territories/' ($element) '[@type="' ($avalue) '"]' > 'names|' $1 '|' $2;
'/localeDisplayNames/variants/' ($element) '[@type="' ($avalue) '"]' > 'names|' $1 '|' $2;
'/localeDisplayNames/keys/' ($element) '[@type="' ($avalue) '"]' > 'names|type|' $2;
'/localeDisplayNames/types/' ($element) '[@type="' ($avalue) '"]'  '[@key="' ($avalue) '"]' > 'names|' $1 '|' $3 '-' $2;

'/layout/orientation' > 'misc|layout|orientation';
'/characters/exemplarCharacters[@type="auxiliary"]' > 'misc|exemplarCharacters|1-auxiliary';
'/characters/exemplarCharacters' > 'misc|exemplarCharacters|2-standard';
'/delimiters/'(.*) > 'misc|delimiters|' $1;

'/dates/calendars/calendar[@type="' ($avalue) '"]' > 'calendar-' $1 | '$%%';
'/dates/calendars/default' > 'calendar|default|value';
'/dates/localizedPatternChars' > 'deprecated|pattern|dateChars';

'/identity/' ($element) '[@type="' ($avalue) '"]' > 'identity|' $1 '|' $2;
'/identity/' ($element) > 'identity|info|' $1;
# /identity/generation
# identity|info|territory?%%[@type="DJ"]

'/localeDisplayNames/measurementSystemNames/measurementSystemName[@type="' ($avalue) '"]' > 'names|measurement-system|' $1;
'/references/reference[@type="' ($avalue) '"]' > 'references|reference|' $1;

'$%%/eras/era' ($element) '/era[@type="' ([0-9]) '"]' > '|era|' 00 $2 '-' $1;
'$%%/eras/era' ($element) '/era[@type="' ([0-9][0-9]) '"]' > '|era|' 0$2 '-' $1;
'$%%/eras/era' ($element) '/era[@type="' ($avalue) '"]' > '|era|' $2 '-' $1;

'$%%/dateFormats/dateFormatLength[@type="' ($avalue) '"]/dateFormat[@type="standard"]/pattern[@type="standard"]' > '|pattern|date-' $1;
'$%%/timeFormats/timeFormatLength[@type="' ($avalue) '"]/timeFormat[@type="standard"]/pattern[@type="standard"]' > '|pattern|time-' $1;
'$%%/dateTimeFormats/dateTimeFormatLength[@type="' ($avalue) '"]/dateTimeFormat[@type="standard"]/pattern[@type="standard"]' > '|pattern|datetime-' $1;

'$%%/months/monthContext[@type="' ($avalue) '"]/monthWidth[@type="' ($avalue) '"]/month[@type="' ([0-9]) '"]' > '|month|' 0$3 '-' $1 '-' $2;
'$%%/months/monthContext[@type="' ($avalue) '"]/monthWidth[@type="' ($avalue) '"]/month[@type="' ($avalue) '"]' > '|month|' $3 '-' $1 '-' $2;
'$%%/months/monthContext[@type="' ($avalue) '"]/monthWidth[@type="' ($avalue) '"]/alias' > '|month|' $1 '-' $2 '-alias';

'$%%/months/monthContext[@type="' ($element) '"]/default' > '|month|default-' $1;
'$%%/days/dayContext[@type="' ($element) '"]/default' > '|day|default-' $1;

'$%%/eras/alias' > '|eras|alias';
'$%%/eras/eraNames/alias' > '|eraNames|alias';
'$%%/months/alias' > '|months|alias';
'$%%/alias' > '|all|alias';

'$%%/week/' ($element) > '|week|' $1;

'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('sun') '"]' > '|day|1-sunday:' $1 '-' $2;
'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('mon') '"]' > '|day|2-monday:' $1 '-' $2;
'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('tue') '"]' > '|day|3-tuesday:' $1 '-' $2;
'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('wed') '"]' > '|day|4-wednesday:' $1 '-' $2;
'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('thu') '"]' > '|day|5-thursday:' $1 '-' $2;
'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('fri') '"]' > '|day|6-friday:' $1 '-' $2;
'$%%/days/dayContext[@type="' ($avalue) '"]/dayWidth[@type="' ($avalue) '"]/day[@type="' ('sat') '"]' > '|day|7-saturday:' $1 '-' $2;

'$%%/quarters/quarterContext[@type="' ($avalue) '"]/quarterWidth[@type="' ($avalue) '"]/quarter[@type="' ($avalue) '"]' > '|quarter|' $3 '-' $1 '-' $2;

'$%%/' ([ap]) 'm' > '|day-period|' $1 'm';

'$%%/fields/field[@type="' ($avalue) '"]/displayName' > '|field-label|' $1;

'$%%/dateTimeFormats/availableFormats/dateFormatItem[@id="' ($avalue) '"]' > '|pattern|other-' $1;
'$%%/dateTimeFormats/appendItems/appendItem[@request="' ($avalue) '"]' > '|appendPattern|' $1;

'$%%/dateFormats/default' > '|default|dateFormat';
'$%%/timeFormats/default' > '|default|timeFormat';
'$%%/months/default' > '|default|monthFormat';
'$%%/days/default' > '|default|dayFormat';
'$%%/dateTimeFormats/dateTimeFormatLength/dateTimeFormat[@type="standard"]/pattern[@type="standard"]' > '|date+time|pattern';
'$%%/dateTimeFormats/alias' > '|date+time|alias';
'$%%/dateFormats/alias' > '|date|alias';
'$%%/timeFormats/alias' > '|time|alias';

'$%%/fields/field[@type="' ($avalue) '"]/relative[@type="' ($avalue) '"]' > '|fields|' $1 ':' $2 ;

'/dates/timeZoneNames/zone[@type="' ($avalue) '"]/exemplarCity' > 'names|zone|' $1;
'/dates/timeZoneNames/zone[@type="' ($avalue) '"]/' ($element) '/' ($element) > 'names|zone|' $1 '-' $2 '-' $3;
'/dates/timeZoneNames/' (.*) > 'time|zone|' $1;

'/numbers/currencies/currency[@type="' ($avalue) '"]/' ($element) '[@type="' ($avalue) '"]' > 'names|currency|' $1 ':' $2 '-' $3;
'/numbers/currencies/currency[@type="' ($avalue) '"]/' ($element) > 'names|currency|' $1 ':' $2;

'/numbers/symbols/' (.*) > 'number|symbol|' $1;
'/numbers/' ([a-z]+) 'Formats/' ($element) '/' ($element) '[@type="' ($avalue) '"]/pattern[@type="standard"]' > 'number|pattern|' $1 '-' $2;
'/numbers/currencyFormats/currencySpacing/beforeCurrency/' (.*) > 'number|before|' $1;
'/numbers/currencyFormats/currencySpacing/afterCurrency/' (.*) > 'number|after|' $1;

'/posix/messages/' (.*) > 'misc|posix|' $1;

'[@alt="proposed' ($avalue) '"]' > '/' \u200B 'alt'; # remove!
'[@alt="' ($avalue) '"]' > '/' \u200B 'alt-' $1;

'/alias' > 'whole|file|alias';
'/characters/mapping[@registry="' ($element) '"]' > 'charset|registry|' $1;
'/layout/inList' > 'layout|inList|casing';

'/numbers/scientificFormats/default' > 'numbers|scientificFormats|default';
'$%%/dateTimeFormats/default' > '|date+time|default';

(.*) > '?%%' $1;


