package org.unicode.cldr.tool;

import java.util.Collections;
import java.util.Comparator;
import java.util.HashMap;
import java.util.HashSet;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;
import java.util.TreeMap;
import java.util.TreeSet;

import org.unicode.cldr.unittest.TestAll;
import org.unicode.cldr.util.SupplementalDataInfo;
import org.unicode.cldr.util.SupplementalDataInfo.PluralType;

import com.ibm.icu.dev.util.CollectionUtilities;
import com.ibm.icu.dev.util.Relation;
import com.ibm.icu.text.PluralRules;
import com.ibm.icu.text.PluralRules.NumberInfo;
import com.ibm.icu.util.ULocale;

public class WritePluralRules {
    static final SupplementalDataInfo sInfo = TestAll.TestInfo.getInstance().getSupplementalDataInfo();
    public static void main(String[] args) {
        Relation<PluralRules,String> rulesToLocales = Relation.of(new TreeMap<PluralRules,Set<String>>(new PluralRulesComparator()), TreeSet.class);
        for (String locale : sInfo.getPluralLocales(PluralType.cardinal)) {
            if (locale.equals("root")) {
                continue;
            }
            PluralRules rules = forLocale(locale);
            rulesToLocales.put(rules, locale);
        }
        System.out.println(
                "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n"
                        +"<!DOCTYPE supplementalData SYSTEM \"../../common/dtd/ldmlSupplemental.dtd\">\n"
                        +"<!--\n"
                        +"Copyright Â© 1991-2013 Unicode, Inc.\n"
                        +"CLDR data files are interpreted according to the LDML specification (http://unicode.org/reports/tr35/)\n"
                        +"For terms of use, see http://www.unicode.org/copyright.html\n"
                        +"-->\n"
                        +"<supplementalData>\n"
                        +"    <version number=\"$Revision" +
                        "$\"/>\n"
                        +"    <generation date=\"$Date" +
                        "$\"/>\n"
                        +"    <plurals>\n"
                        +"        <!-- if locale is known to have no plurals, there are no rules -->"
                );
        TreeSet<Entry<PluralRules, Set<String>>> sorted = new TreeSet<Entry<PluralRules, Set<String>>>(new HackComparator());
        sorted.addAll(rulesToLocales.keyValuesSet());
        for (Entry<PluralRules, Set<String>> entry : sorted) {
            PluralRules rules = entry.getKey();
            Set<String> values = entry.getValue();
            String locales = CollectionUtilities.join(values, " ");
            //String comment = hackComments.get(locales);
            System.out.println("        <pluralRules locales=\"" + locales + "\">"
                    //+ (comment != null ? comment : "")
                    );
            for (String keyword : rules.getKeywords()) {
                String rule = rules.getRules(keyword);
                if (rule == null) {
                    continue;
                }
                System.out.println("            <pluralRule count=\"" + keyword + "\">" + rule + "</pluralRule>");
            }
            System.out.println("        </pluralRules>");
            /*
        <pluralRules locales="ar">
            <pluralRule count="zero">n is 0</pluralRule>
            <pluralRule count="one">n is 1</pluralRule>
            <pluralRule count="two">n is 2</pluralRule>
            <pluralRule count="few">n mod 100 in 3..10</pluralRule>
            <pluralRule count="many">n mod 100 in 11..99</pluralRule>
        </pluralRules>

             */
        }
        System.out.println("    </plurals>\n" +
        		"</supplementalData>");
    }
    
//    static Map<String,String> hackComments = new HashMap<String,String>();
//    static {
//        hackComments.put("ga", " <!-- http://unicode.org/cldr/trac/ticket/3915 -->");
//        hackComments.put("mt", " <!-- from Tamplin's data -->");
//        hackComments.put("mk", " <!-- from Tamplin's data -->");
//        hackComments.put("cy", " <!-- from http://www.saltcymru.org/wordpress/?p=99&lang=en -->");
//        hackComments.put("br", " <!-- from http://unicode.org/cldr/trac/ticket/2886 -->");
//    }
    
    static class HackComparator implements Comparator<Entry<PluralRules, Set<String>>> {
        // we get the order of the first items in each of the old rules, and use that order where we can.
        PluralRulesComparator prc = new PluralRulesComparator();
        static Map<String,Integer> hackMap = new HashMap<String,Integer>();
        static {
            int i = 0;
            for (String s : "az ar he asa af lg vo ak ff lv iu ga ro mo lt be cs sk pl sl mt mk cy lag shi br ksh tzm gv gd".split(" ")) {
                hackMap.put(s, i++);
            }
        }
        @Override
        public int compare(Entry<PluralRules, Set<String>> o1, Entry<PluralRules, Set<String>> o2) {
            Integer firstLocale1 = hackMap.get(o1.getValue().iterator().next());
            Integer firstLocale2 = hackMap.get(o2.getValue().iterator().next());
            if (firstLocale1 != null) {
                if (firstLocale2 != null) {
                    return firstLocale1 - firstLocale2;
                }
                return -1;
            } else if (firstLocale2 != null) {
                return 1;
            } else { // only if BOTH are null, use better comparison
                return prc.compare(o1.getKey(), o2.getKey());
            }
        }
    }
    
    static class PluralRulesComparator implements Comparator<PluralRules> {
        CollectionUtilities.CollectionComparator<String> comp = new CollectionUtilities.CollectionComparator<String>();

        @Override
        public int compare(PluralRules arg0, PluralRules arg1) {
            Set<String> key0 = arg0.getKeywords();
            Set<String> key1 = arg1.getKeywords();
            int diff = comp.compare(key0, key1);
            if (diff != 0) {
                return diff;
            }
            return arg0.toString().compareTo(arg1.toString());
        }
    }
    
    static PluralRules forLocale(String locale) {
        PluralRules override = getPluralOverrides().get(new ULocale(locale));
        return override != null 
                ? override
                        : sInfo.getPlurals(locale).getPluralRules();
    }

    static class SamplePatterns {
        final Map<String,String> keywordToPattern = new TreeMap(PluralRules.KEYWORD_COMPARATOR);
        final Map<String,String> keywordToErrors = new HashMap();
        public void put(String keyword, String sample) {
            if (keywordToPattern.containsKey(keyword)) {
                throw new IllegalArgumentException("Duplicate keyword <" + keyword + ">");
            } else {
                keywordToPattern.put(keyword, sample.replace(" ", "\u00A0"));
            }
        }
        public void checkErrors(Set<String> set) {
            final Map<String,String> skeletonToKeyword = new HashMap();
            for (String keyword : set) {
                String error = "";
                String sample = keywordToPattern.get(keyword);
                String skeleton = sample.replace(" ", "").replaceAll("\\s*\\{0\\}\\s*", "");
                String oldSkeletonKeyword = skeletonToKeyword.get(skeleton);
                if (oldSkeletonKeyword != null) {
                    if (error.length() != 0) {
                        error += ", ";
                    }
                    error += "Duplicate keyword skeleton <" + keyword + ", " + skeleton + ">, same as for: <" + oldSkeletonKeyword + ">";
                } else {
                    skeletonToKeyword.put(skeleton, keyword);
                }
                if (error.length() == 0) {
                    keywordToErrors.put(keyword, "");
                } else {
                    keywordToErrors.put(keyword, "\tERROR: " + error);
                }
            }
        }
    }

    public static Map<ULocale, SamplePatterns> getLocaleToSamplePatterns() {
        if (LOCALE_TO_SAMPLE_PATTERNS == null) {
            loadData();
        }
        return LOCALE_TO_SAMPLE_PATTERNS;
    }
    public static Map<ULocale, PluralRules> getPluralOverrides() {
        if (OVERRIDES == null) {
            loadData();
        }
        return OVERRIDES;
    }
    public static Relation<ULocale, NumberInfo> getExtraSamples() {
        if (EXTRA_SAMPLES == null) {
            loadData();
        }
        return EXTRA_SAMPLES;
    }

    private static Map<ULocale, SamplePatterns> LOCALE_TO_SAMPLE_PATTERNS = null;    
    private static Map<ULocale,PluralRules> OVERRIDES = null; 
    private static Relation<ULocale,NumberInfo> EXTRA_SAMPLES = null; 

    private static void loadData() {
        LinkedHashMap<ULocale, SamplePatterns> temp = new LinkedHashMap<ULocale, SamplePatterns>();
        HashMap<ULocale, PluralRules> tempOverrides = new HashMap<ULocale,PluralRules>();
        Relation<ULocale, NumberInfo> tempSamples = Relation.of(new HashMap<ULocale,Set<NumberInfo>>(), HashSet.class);
        for (String[] row : SAMPLE_PATTERNS) {
            ULocale locale = new ULocale(row[0]);
            String keyword = row[1];
            String sample = row[2];
            SamplePatterns samplePatterns = temp.get(locale);
            if (samplePatterns == null) {
                temp.put(locale, samplePatterns = new SamplePatterns());
            }
            samplePatterns.put(keyword, sample);
        }
        for (String[] pair : overrides) {
            for (String locale : pair[0].split("\\s*,\\s*")) {
                ULocale uLocale = new ULocale(locale);
                if (tempOverrides.containsKey(uLocale)) {
                    throw new IllegalArgumentException("Duplicate locale: " + uLocale);
                }
                try {
                    PluralRules rules = PluralRules.parseDescription(pair[1]);
                    tempOverrides.put(uLocale, rules);
                } catch (Exception e) {
                    throw new IllegalArgumentException(locale + "\t" + pair[1], e);
                }
            }
        }
        for (String[] pair : EXTRA_SAMPLE_SOURCE) {
            for (String locale : pair[0].split("\\s*,\\s*")) {
                ULocale uLocale = new ULocale(locale);
                if (tempSamples.containsKey(uLocale)) {
                    throw new IllegalArgumentException("Duplicate locale: " + uLocale);
                }
                for (String item : pair[1].split("\\s*,\\s*")) {
                    tempSamples.put(uLocale, new PluralRules.NumberInfo(item));
                }
            }
        }
        LOCALE_TO_SAMPLE_PATTERNS = Collections.unmodifiableMap(temp);
        OVERRIDES = Collections.unmodifiableMap(tempOverrides);
        EXTRA_SAMPLES = (Relation<ULocale, NumberInfo>) tempSamples.freeze();
    }
    static String[][] SAMPLE_PATTERNS = {
        {"und", "zero", "{0} ADD-SAMPLE-ZERO"},
        {"und", "one", "{0} ADD-SAMPLE-ONE"},
        {"und", "two", "{0} ADD-SAMPLE-TWO"},
        {"und", "few", "{0} ADD-SAMPLE-FEW"},
        {"und", "many", "{0} ADD-SAMPLE-MANY"},
        {"und", "other", "{0} ADD-SAMPLE-OTHER"},
        {"af", "one", "{0} dag"},
        {"af", "other", "{0} dae"},
        {"am", "one", "{0} áá"},
        {"am", "other", "{0} áááµ"}, // fixed to 'other'
        {"ar", "few", "{0} Ø³Ø§Ø¹Ø§Øª"},
        {"ar", "many", "{0} Ø³Ø§Ø¹Ø©"},
        {"ar", "one", "Ø³Ø§Ø¹Ø©"},
        {"ar", "other", "{0} Ø³Ø§Ø¹Ø©"},
        {"ar", "two", "Ø³Ø§Ø¹ØªØ§Ù"},
        {"ar", "zero", "{0} Ø³Ø§Ø¹Ø©"},
        {"bg", "one", "{0} Ð´ÐµÐ½"},
        {"bg", "other", "{0} Ð´ÐµÐ½Ð°"},
        {"bn", "one", "à¦¸à¦¸à§ {0}à¦à¦¿ à¦à¦ªà§à¦² à¦¨à¦¿à¦¯à¦¼à§ à¦¸à§à¦à¦¾ à¦à§à¦²"},
        {"bn", "other", "à¦¸à¦¸à§ {0}à¦à¦¿ à¦à¦ªà§à¦² à¦¨à¦¿à¦¯à¦¼à§ à¦¸à§à¦à§à¦²à¦¿ à¦à§à¦²"},
        {"br", "few", "{0} deiz"},
        {"br", "many", "{0} a zeizioÃ¹"},
        {"br", "one", "{0} deiz"},
        {"br", "other", "{0} deiz"},
        {"br", "two", "{0} zeiz"},
        {"ca", "one", "{0} dia"},
        {"ca", "other", "{0} dies"},
        {"cs", "few", "{0} dny"},
        {"cs", "one", "{0} den"},
        {"cs", "other", "{0} dnÃ­"},
        {"cs", "many", "{0} dne"}, // added from spreadsheet
        {"cy", "zero", "{0} cadair, {0} peint"},
        {"cy", "one", "{0} gadair, {0} peint"},
        {"cy", "two", "{0} gadair, {0} beint"},
        {"cy", "few", "{0} cadair, {0} pheint"},
        {"cy", "many", "{0} chadair, {0} pheint"},
        {"cy", "other", "{0} cadair, {0} peint"},
        {"da", "one", "{0} dag"},
        {"da", "other", "{0} dage"},
        {"de", "one", "{0} Tag"},
        {"de", "other", "{0} Tage"},
        {"dz", "other", "à½à½²à½à½à¼ {0} "},
        {"el", "one", "{0} Î·Î¼Î­ÏÎ±"},
        {"el", "other", "{0} Î·Î¼Î­ÏÎµÏ"},
        {"es", "one", "{0} dÃ­a"},
        {"es", "other", "{0} dÃ­as"},
        {"et", "one", "{0} Ã¶Ã¶pÃ¤ev"},
        {"et", "other", "{0} Ã¶Ã¶pÃ¤eva"},
        {"eu", "one", "Nire {0} lagunarekin nago"},
        {"eu", "other", "Nire {0} lagunekin nago"},
        {"fa", "one", "Ø§Ù {0} ÙÛÙÙ Ø¯Ø± ÙÙØªÙ ÙÛâØ¨ÛÙØ¯ Ú©Ù Ú©ÙØ¯Û Ø§Ø³Øª."},
        {"fa", "other", "Ø§Ù {0} ÙÛÙÙ Ø¯Ø± ÙÙØªÙ ÙÛâØ¨ÛÙØ¯ Ú©Ù Ú©ÙØ¯Û ÙØ³ØªÙØ¯."},
        {"fi", "one", "{0} pÃ¤ivÃ¤"},
        {"fi", "other", "{0} pÃ¤ivÃ¤Ã¤"},
        {"fil", "one", "sa {0} araw"},
        {"fil", "other", "sa {0} (na) araw"},
        {"fr", "one", "{0} jour"},
        {"fr", "other", "{0} jours"},
        {"gl", "one", "{0} dÃ­a"},
        {"gl", "other", "{0} dÃ­as"},
        {"gu", "one", "{0} àªàª¿àª²à«àªà«àª°àª¾àª®"},
        {"gu", "other", "{0} àªàª¿àª²à«àªà«àª°àª¾àª®à«àª¸"},
        {"he", "many", "{0} ×©× ×"},
        {"he", "one", "×©× ×"},
        {"he", "other", "{0} ×©× ××"},
        {"he", "two", "×©× ×ª×××"},
        {"hi", "one", "{0} à¤à¤à¤à¤¾"},
        {"hi", "other", "{0} à¤à¤à¤à¥"},
        {"hr", "few", "za {0} mjeseca"},
        {"hr", "many", "za {0} mjeseci"},
        {"hr", "one", "za {0} mjesec"},
        {"hr", "other", "za {0} mjeseci"},
        {"hu", "other", "{0} nap"},
        {"hy", "one", "Õ¡ÕµÕ¤ {0} ÕªÕ¡Õ´Õ¨"},
        {"hy", "other", "Õ¡ÕµÕ¤ {0} ÕªÕ¡Õ´Õ¥ÖÕ¨"},
        {"id", "other", "{0} hari"},
        {"is", "one", "{0} dagur"},
        {"is", "other", "{0} dagar"},
        {"it", "one", "{0} giorno"},
        {"it", "other", "{0} giorni"},
        {"ja", "other", "{0}æ¥"},
        {"km", "other", "{0} áááá"}, // 
        {"kn", "one", "{0} à²¦à²¿à²¨"},
        {"kn", "other", "{0} à²¦à²¿à²¨à²à²³à³"},
        {"ko", "other", "{0}ì¼"},
        {"lo", "other", "{0} àº¡àº·à»"},
        {"lt", "few", "{0} dienos"},
        {"lt", "one", "{0} diena"},
        {"lt", "other", "{0} dienÅ³"},
        {"lv", "one", "{0} diennakts"},
        {"lv", "other", "{0} diennaktis"},
        {"lv", "zero", "{0} diennakÅ¡u"},
        {"ml", "one", "{0} à´µàµà´¯à´àµà´¤à´¿"},
        {"ml", "other", "{0} à´µàµà´¯à´àµà´¤à´¿à´àµ¾"},
        {"mr", "one", "{0} à¤à¤°"},
        {"mr", "other", "{0} à¤à¤°à¥"},
        {"ms", "other", "{0} hari"},
        {"nb", "one", "{0} dag"},
        {"nb", "other", "{0} dager"},
        {"ne", "one", "à¤¤à¤ªà¤¾à¤à¤à¤¸à¤à¤ {0} à¤¨à¤¿à¤®à¤¨à¥à¤¤à¥à¤°à¤£à¤¾ à¤"},
        {"ne", "other", "à¤¤à¤ªà¤¾à¤à¤à¤¸à¤à¤ {0} à¤¨à¤¿à¤®à¤¨à¥à¤¤à¥à¤°à¤£à¤¾à¤¹à¤°à¥ à¤à¤¨à¥"},
        //        {"ne", "", "{0} à¤¦à¤¿à¤¨ à¤¬à¤¾à¤à¤à¥ à¤ à¥¤"},
        //        {"ne", "", "{0} à¤¦à¤¿à¤¨ à¤¬à¤¾à¤à¤à¥ à¤ à¥¤"},
        //        {"ne", "", "{0} à¤¦à¤¿à¤¨ à¤¬à¤¾à¤à¤à¥ à¤ à¥¤"},
        //        {"ne", "", "{0} à¤à¤¨à¤¾à¤¹à¤°à¥ à¤ªà¤¾à¤¹à¥à¤¨à¤¾ à¤¬à¤¾à¤à¤à¥ à¤ à¥¤"},
        {"nl", "one", "{0} dag"},
        {"nl", "other", "{0} dagen"},
        {"pl", "few", "{0} miesiÄce"},
        {"pl", "many", "{0} miesiÄcy"},
        {"pl", "one", "{0} miesiÄc"},
        {"pl", "other", "{0} miesiÄca"},
        {"pt", "one", "{0} ponto"},
        {"pt", "other", "{0} pontos"},
        //        {"pt_PT", "one", "{0} dia"},
        //        {"pt_PT", "other", "{0} dias"},
        {"ro", "few", "{0} zile"},
        {"ro", "one", "{0} zi"},
        {"ro", "other", "{0} de zile"},
        {"ru", "few", "{0} Ð³Ð¾Ð´Ð°"},
        {"ru", "many", "{0} Ð»ÐµÑ"},
        {"ru", "one", "{0} Ð³Ð¾Ð´"},
        {"ru", "other", "{0} Ð³Ð¾Ð´Ð°"},
        {"si", "one", "à¶¸à¶§ à¶´à·à¶­à· {0}à¶à· à¶­à·à¶¶à·. à¶¸à¶¸ à¶à¶º à¶à·à¶ºà·à·à¶¸à·.à·"},
        {"si", "other", "à¶¸à¶§ à¶´à·à¶­à· {0}à¶à· à¶­à·à¶¶à·. à¶¸à¶¸ à¶à·à· à¶à·à¶ºà·à·à¶¸à·."},
        {"sk", "few", "{0} dni"},
        {"sk", "one", "{0} deÅ"},
        {"sk", "other", "{0} dnÃ­"},
        {"sk", "many", "{0} dÅa"}, // added from spreadsheet
        {"sl", "few", "{0} ure"},
        {"sl", "one", "{0} ura"},
        {"sl", "other", "{0} ur"},
        {"sl", "two", "{0} uri"},
        {"sr", "few", "{0} ÑÐ°ÑÐ°"},
        {"sr", "many", "{0} ÑÐ°ÑÐ¸"},
        {"sr", "one", "{0} ÑÐ°Ñ"},
        {"sr", "other", "{0} ÑÐ°ÑÐ¸"},
        {"sv", "one", "om {0} dag"},
        {"sv", "other", "om {0} dagar"},
        {"sw", "one", "siku {0} iliyopita"},
        {"sw", "other", "siku {0} zilizopita"},
        {"ta", "one", "{0} à®¨à®¾à®³à¯"},
        {"ta", "other", "{0} à®¨à®¾à®à¯à®à®³à¯"},
        {"te", "one", "{0} à°°à±à°à±"},
        {"te", "other", "{0} à°°à±à°à±à°²à±"},
        {"th", "other", "{0} à¸§à¸±à¸"},
        {"tr", "other", "{0} gÃ¼n"},
        {"uk", "few", "{0} Ð´Ð½Ñ"},
        {"uk", "many", "{0} Ð´Ð½ÑÐ²"},
        {"uk", "one", "{0} Ð´ÐµÐ½Ñ"},
        {"uk", "other", "{0} Ð´Ð½Ñ"},
        {"ur", "one", "{0} Ú¯Ú¾ÙÙ¹Û"},
        {"ur", "other", "{0} Ú¯Ú¾ÙÙ¹Û"},
        {"vi", "other", "{0} ngÃ y"},
        {"zh", "other", "{0} å¤©"},
        {"zh_Hant", "other", "{0} æ¥"},     
        {"en", "one", "{0} day"},        // added from spreadsheet  
        {"en", "other", "{0} days"},       // added from spreadsheet   
        {"zu", "one", "{0} usuku"},     // added from spreadsheet
        {"zu", "other", "{0} izinsuku"},          // added from spreadsheet
    };

    static String[][] EXTRA_SAMPLE_SOURCE = {
        {"he,iw","10,20"},
        {"und,az,ka,kk,ky,mk,mn,my,pa,ps,sq,uz","0,0.0,0.1,1,1.0,1.1,2.0,2.1,3,4,5,10,11"},
    };

    static String[][] overrides = {
        {"gu,mr,kn,am,fa", "one: n within 0..1"},
        {"ta,te", "one: n is 1"},
        {"bn", "one: n within 0..1"},
        {"en,ca,de,et,fi,gl,it,nl,sv,sw,ur", "one: j is 1"},
        {"pt", "one: n is 1 or f is 1"},
        {"si", "one: n in 0,1 or i is 0 and f is 1"},
        {"cs,sk", "one: j is 1;  few: j in 2..4; many: v is not 0"},
        //{"cy", "one: n is 1;  two: n is 2;  few: n is 3;  many: n is 6"},
        //{"el", "one: j is 1 or i is 0 and f is 1"},
        {"da,is", "one: j is 1 or f is 1"},
        {"fil,tl", "one: j in 0..1"},
        {"he,iw", "one: j is 1;  two: j is 2; many: j not in 0..10 and j mod 10 is 0", "10,20"},
        {"hi", "one: n within 0..1"},
        {"hy", "one: n within 0..2 and n is not 2"},
        //                    {"hr", "one: j mod 10 is 1 and j mod 100 is not 11;  few: j mod 10 in 2..4 and j mod 100 not in 12..14;  many: j mod 10 is 0 or j mod 10 in 5..9 or j mod 100 in 11..14"},
        {"lv", "zero: n mod 10 is 0" +
                " or n mod 10 in 11..19" +
                " or v is 2 and f mod 10 in 11..19;" +
                "one: n mod 10 is 1 and n mod 100 is not 11" +
                " or v is 2 and f mod 10 is 1 and f mod 100 is not 11" +
        " or v is not 2 and f mod 10 is 1"},
        //                    {"lv", "zero: n mod 10 is 0" +
        //                            " or n mod 10 in 11..19" +
        //                            " or v in 1..6 and f is not 0 and f mod 10 is 0" +
        //                            " or v in 1..6 and f mod 10 in 11..19;" +
        //                            "one: n mod 10 is 1 and n mod 100 is not 11" +
        //                            " or v in 1..6 and f mod 10 is 1 and f mod 100 is not 11" +
        //                            " or v not in 0..6 and f mod 10 is 1"},
        {"pl", "one: j is 1;  few: j mod 10 in 2..4 and j mod 100 not in 12..14;  many: j is not 1 and j mod 10 in 0..1 or j mod 10 in 5..9 or j mod 100 in 12..14"},
        {"sl", "one: j mod 100 is 1;  two: j mod 100 is 2;  few: j mod 100 in 3..4 or v is not 0"},
        //                    {"sr", "one: j mod 10 is 1 and j mod 100 is not 11" +
        //                            " or v in 1..6 and f mod 10 is 1 and f mod 100 is not 11" +
        //                            " or v not in 0..6 and f mod 10 is 1;" +
        //                            "few: j mod 10 in 2..4 and j mod 100 not in 12..14" +
        //                            " or v in 1..6 and f mod 10 in 2..4 and f mod 100 not in 12..14" +
        //                            " or v not in 0..6 and f mod 10 in 2..4"
        //                    },
        {"sr,hr,sh,bs", "one: j mod 10 is 1 and j mod 100 is not 11" +
                " or f mod 10 is 1 and f mod 100 is not 11;" +
                "few: j mod 10 in 2..4 and j mod 100 not in 12..14" +
                " or f mod 10 in 2..4 and f mod 100 not in 12..14"
        },
        // +
        //                            " ; many: j mod 10 is 0 " +
        //                            " or j mod 10 in 5..9 " +
        //                            " or j mod 100 in 11..14" +
        //                            " or v in 1..6 and f mod 10 is 0" +
        //                            " or v in 1..6 and f mod 10 in 5..9" +
        //                            " or v in 1..6 and f mod 100 in 11..14" +
        //                    " or v not in 0..6 and f mod 10 in 5..9"
        {"mo,ro", "one: j is 1; few: v is not 0 or n is 0 or n is not 1 and n mod 100 in 1..19"},
        {"ru", "one: j mod 10 is 1 and j mod 100 is not 11;" +
                " many: j mod 10 is 0 or j mod 10 in 5..9 or j mod 100 in 11..14"
                //                            + "; many: j mod 10 is 0 or j mod 10 in 5..9 or j mod 100 in 11..14"
        },
        {"uk", "one: j mod 10 is 1 and j mod 100 is not 11;  " +
                "few: j mod 10 in 2..4 and j mod 100 not in 12..14;  " +
        "many: j mod 10 is 0 or j mod 10 in 5..9 or j mod 100 in 11..14"},
        {"zu", "one: n within 0..1"},
    };
}
